{"ast":null,"code":"var _jsxFileName = \"/home/homietrainee/Documents/Exercises/ExercisesRuby/rails-with-webpacker-react-master/app/javascript/components/articles/ArticleList.jsx\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addArticle as _addArticle, allArticles } from '../../actions/articles';\nimport ArticlePagination from './ArticlePagination';\n\nvar ArticleList = function ArticleList(props) {\n  useEffect(function () {\n    props.listArticles(props.currentPage, props.elementsByPage);\n  }, []);\n\n  var checkPages = function checkPages() {\n    var plusToPage = 1;\n    var clientPage = 0;\n    var pagination = [];\n\n    var pages = _toConsumableArray(Array(props.pages).keys());\n\n    pages.forEach(function (page) {\n      clientPage = page + plusToPage;\n\n      if (props.currentPage == clientPage) {\n        return pagination.push(React.createElement(ArticlePagination, {\n          currentColor: \"gray\",\n          number: clientPage,\n          key: page,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }));\n      }\n\n      pagination.push(React.createElement(ArticlePagination, {\n        number: clientPage,\n        key: page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    });\n    return pagination;\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, props.articles.map(function (article) {\n    return React.createElement(\"div\", {\n      key: article.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/articles/\".concat(article.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, article.title)), article.content, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  }), checkPages(), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/articles/new\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"New\")));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    articles: state.articlesReducer.articles,\n    pages: state.articlesReducer.pages,\n    elementsByPage: state.articlesReducer.elementsByPage,\n    currentPage: state.articlesReducer.currentPage\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addArticle: function addArticle(title, content) {\n      return dispatch(_addArticle(title, content));\n    },\n    listArticles: function listArticles(page, quantityElements) {\n      return dispatch(allArticles(page, quantityElements));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleList);","map":{"version":3,"sources":["/home/homietrainee/Documents/Exercises/ExercisesRuby/rails-with-webpacker-react-master/app/javascript/components/articles/ArticleList.jsx"],"names":["React","useEffect","connect","Link","addArticle","allArticles","ArticlePagination","ArticleList","props","listArticles","currentPage","elementsByPage","checkPages","plusToPage","clientPage","pagination","pages","Array","keys","forEach","page","push","articles","map","article","id","title","content","mapStateToProps","state","articlesReducer","mapDispatchToProps","dispatch","quantityElements"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom';\nimport { addArticle, allArticles } from '../../actions/articles';\nimport ArticlePagination from './ArticlePagination';\n\nconst ArticleList = (props) => {\n  useEffect(() => {\n    props.listArticles(props.currentPage, props.elementsByPage);\n  }, [])  \n\n  const checkPages = () => {\n    const plusToPage = 1;\n\n    let clientPage = 0;\n    let pagination = [];\n    let pages = [...Array(props.pages).keys()];\n    \n    pages.forEach(page => {\n      clientPage = page + plusToPage;\n      if(props.currentPage == clientPage){\n        return pagination.push(<ArticlePagination currentColor=\"gray\" number={clientPage} key={page}/>);\n      }\n      pagination.push(<ArticlePagination number={clientPage} key={page}/>);\n    });\n    \n    return pagination\n  }\n\n  return (\n    <div>\n      {\n        props.articles.map((article) => {\n          return (\n            <div key={article.id}>\n              <h2><Link to={`/articles/${article.id}`}>{article.title}</Link></h2>\n              {article.content}\n              <hr />\n            </div>\n          );\n        })\n      }\n      {\n        checkPages()\n      }\n      <hr/>\n      <button className=\"btn btn-outline-primary\"><Link to={`/articles/new`}>New</Link></button>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    articles: state.articlesReducer.articles,\n    pages : state.articlesReducer.pages,\n    elementsByPage : state.articlesReducer.elementsByPage,\n    currentPage : state.articlesReducer.currentPage\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addArticle: (title, content) => dispatch(addArticle(title, content)),\n    listArticles: (page, quantityElements) => dispatch(allArticles(page, quantityElements))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArticleList);"]},"metadata":{},"sourceType":"module"}